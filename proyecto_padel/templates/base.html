<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap 5: primero Bootstrap y luego tu CSS para que tu estilo gane -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='img/isologo.png') }}" />
    <title>RPM</title>
</head>

<body>
    <div class="border-lines"></div>

    <!-- Background videos -->
    <video id="bg-video-desktop" class="bg-video" autoplay muted loop playsinline>
        <source src="{{ url_for('static', filename='video/background2.mp4') }}" type="video/mp4">
    </video>
    <video id="bg-video-mobile" class="bg-video" autoplay muted loop playsinline>
        <source src="{{ url_for('static', filename='video/background.mp4') }}" type="video/mp4">
    </video>

    <!-- Header -->
    <header class="app-header">
        <a href="/" class="isologo">
            <img src="{{ url_for('static', filename='img/isologo.png') }}" alt="isologo" />
        </a>

        <div class="social-icons">
            <a href="https://instagram.com/rankingpadelmtr" target="_blank" class="social-link instagram">
                <img src="{{ url_for('static', filename='img/instagram.png') }}" alt="Instagram" class="social-icon">
            </a>
            <a href="https://wa.me/3004882710" target="_blank" class="social-link whatsapp">
                <img src="{{ url_for('static', filename='img/whatsapp.png') }}" alt="WhatsApp" class="social-icon">
            </a>
        </div>
    </header>

    
    <div class="content-wrapper">
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" class="logo">
        <h2 class="title">Descubre tu verdadero nivel de pádel.</h2>
        <h2 class="subtitle">Primer sistema en Montería que analiza tu juego con tecnología de sensores y ranking en
            tiempo real.</h2>
    </div>

    <!-- Botón que ABRE el offcanvas superior -->
    <div class="catego">
        <button class="scroll-button" type="button" data-bs-toggle="offcanvas" data-bs-target="#rankOffcanvasTop"
            aria-controls="rankOffcanvasTop">
            Descubre tu Posición
        </button>
    </div>

    <!-- OFFCANVAS SUPERIOR -->
    <div class="offcanvas offcanvas-top text-start" tabindex="-1" id="rankOffcanvasTop"
        aria-labelledby="rankOffcanvasTopLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="rankOffcanvasTopLabel">ELIGE UN RANKING</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
        </div>
        <div class="offcanvas-body">
            <div class="d-flex flex-wrap gap-2">
                <a class="btn btn-light fw-bold" href="{{ url_for('ranking') }}">Ranking General</a>
                <a class="btn btn-light fw-bold" href="{{ url_for('ranking_masculino') }}">Ranking Masculino</a>
                <a class="btn btn-light fw-bold" href="{{ url_for('ranking_femenino') }}">Ranking Femenino</a>
            </div>
        </div>
    </div>

    <!-- Footer fijo (solo en principal) -->
    <div class="kpi-row">
        <div class="kpi">
            <div class="kpi-number" data-target="50">+0</div>
            <div class="kpi-label">jugadores evaluados</div>
        </div>
        <div class="kpi">
            <div class="kpi-text">100% medición<br>tecnológica</div>
        </div>
    </div>

    <!-- Botón WhatsApp (basado en tu snippet de Uiverse) -->
    <!-- From Uiverse.io by Gaurang7717 -->
    <button class="Btn">
        <div class="sign">
            <svg class="socialSvg whatsappSvg" viewBox="0 0 16 16">
                <path
                    d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z">
                </path>
            </svg>
        </div>
    
        <div class="text">Únete al ranking ahora</div>
    </button>


    <!-- KPI counter -->
    <script>
        (() => {
            const el = document.querySelector('.kpi-number'); if (!el) return;
            const target = Number(el.dataset.target) || 50, start = 1, duration = 4200, fps = 60, stepMs = 1000 / fps;
            const setVal = v => { el.textContent = '+' + v; };
            if (window.matchMedia?.('(prefers-reduced-motion: reduce)').matches) { setVal(target); return; }
            const ease = x => 1 - Math.pow(1 - x, 3); let prev = start; setVal(start); el.classList.add('is-counting');
            const t0 = performance.now(); const id = setInterval(() => {
                const p = Math.min((performance.now() - t0) / duration, 1);
                const next = Math.max(start, Math.floor(start + ease(p) * (target - start)));
                if (next !== prev) { setVal(next); el.classList.remove('tick'); void el.offsetWidth; el.classList.add('tick'); prev = next; }
                if (p >= 1) { clearInterval(id); setVal(target); el.classList.remove('is-counting'); el.classList.add('pop'); setTimeout(() => el.classList.remove('pop'), 700); }
            }, stepMs);
        })();
    </script>

    <!-- Bootstrap JS (necesario para offcanvas) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Tu JS propio -->
    <script src="{{ url_for('static', filename='js/script.js') }}?v=3"></script>
</body>

</html>